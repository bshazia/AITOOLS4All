{"ast":null,"code":"// src/hooks/useChat.js\nimport{useState}from\"react\";import{fetchCsrfToken,sendMessageToChatGPT}from\"../services/chatGPTService\";const useChat=()=>{const[response,setResponse]=useState(\"\");const[error,setError]=useState(\"\");const handleSendMessage=async message=>{setError(\"\");// Reset error state\ntry{const csrfToken=await fetchCsrfToken();const chatGptResponse=await sendMessageToChatGPT(message,csrfToken);// Pass the message here\nsetResponse(chatGptResponse);}catch(error){setError(\"Error sending message to ChatGPT\");console.error(\"Error:\",error);}};return{response,error,handleSendMessage// No need for setMessage\n};};export default useChat;","map":{"version":3,"names":["useState","fetchCsrfToken","sendMessageToChatGPT","useChat","response","setResponse","error","setError","handleSendMessage","message","csrfToken","chatGptResponse","console"],"sources":["/Users/bsjatoi/Desktop/Jatoi_Startup/AITools4all/client/src/hooks/useChat.js"],"sourcesContent":["// src/hooks/useChat.js\nimport { useState } from \"react\";\nimport {\n  fetchCsrfToken,\n  sendMessageToChatGPT,\n} from \"../services/chatGPTService\";\n\nconst useChat = () => {\n  const [response, setResponse] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSendMessage = async (message) => {\n    setError(\"\"); // Reset error state\n    try {\n      const csrfToken = await fetchCsrfToken();\n      const chatGptResponse = await sendMessageToChatGPT(message, csrfToken); // Pass the message here\n      setResponse(chatGptResponse);\n    } catch (error) {\n      setError(\"Error sending message to ChatGPT\");\n      console.error(\"Error:\", error);\n    }\n  };\n\n  return {\n    response,\n    error,\n    handleSendMessage, // No need for setMessage\n  };\n};\n\nexport default useChat;\n"],"mappings":"AAAA;AACA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OACEC,cAAc,CACdC,oBAAoB,KACf,4BAA4B,CAEnC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGL,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACM,KAAK,CAAEC,QAAQ,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAQ,iBAAiB,CAAG,KAAO,CAAAC,OAAO,EAAK,CAC3CF,QAAQ,CAAC,EAAE,CAAC,CAAE;AACd,GAAI,CACF,KAAM,CAAAG,SAAS,CAAG,KAAM,CAAAT,cAAc,CAAC,CAAC,CACxC,KAAM,CAAAU,eAAe,CAAG,KAAM,CAAAT,oBAAoB,CAACO,OAAO,CAAEC,SAAS,CAAC,CAAE;AACxEL,WAAW,CAACM,eAAe,CAAC,CAC9B,CAAE,MAAOL,KAAK,CAAE,CACdC,QAAQ,CAAC,kCAAkC,CAAC,CAC5CK,OAAO,CAACN,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CACF,CAAC,CAED,MAAO,CACLF,QAAQ,CACRE,KAAK,CACLE,iBAAmB;AACrB,CAAC,CACH,CAAC,CAED,cAAe,CAAAL,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}