{"ast":null,"code":"var _jsxFileName = \"/Users/bsjatoi/Desktop/Jatoi_Startup/AITools4all/client/src/components/ChatComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport ChatMessages from \"./ChatMessages\";\nimport ChatInput from \"./ChatInput\";\nimport ChatSidebar from \"./ChatSidebar\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/Chatgpt.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatComponent() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [userMessage, setUserMessage] = useState(\"\");\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const chatMessagesRef = useRef(null);\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const sendMessage = async () => {\n    if (userMessage.trim() === \"\") return;\n    const newMessages = [...messages, {\n      sender: \"You\",\n      message: userMessage\n    }];\n    setMessages(newMessages);\n    setUserMessage(\"\");\n    try {\n      const response = await axios.post(`${apiUrl}/chat`, {\n        message: userMessage\n      });\n      setMessages(prevMessages => [...prevMessages, {\n        sender: \"Bot\",\n        message: response.data.message\n      }]);\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n      setMessages(prevMessages => [...prevMessages, {\n        sender: \"Bot\",\n        message: \"An error occurred. Please try again later.\"\n      }]);\n    }\n  };\n  useEffect(() => {\n    if (chatMessagesRef.current) {\n      chatMessagesRef.current.scrollTop = chatMessagesRef.current.scrollHeight;\n    }\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-app\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/MainPage\",\n      children: \"Homepage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatSidebar, {\n      sidebarOpen: sidebarOpen,\n      setSidebarOpen: setSidebarOpen,\n      messages: messages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(ChatMessages, {\n        messages: messages,\n        chatMessagesRef: chatMessagesRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n        userMessage: userMessage,\n        setUserMessage: setUserMessage,\n        sendMessage: sendMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatComponent, \"8ChQZhL8de/49yWC1x5B1Mr/gKU=\");\n_c = ChatComponent;\nexport default ChatComponent;\nvar _c;\n$RefreshReg$(_c, \"ChatComponent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ChatMessages","ChatInput","ChatSidebar","Link","jsxDEV","_jsxDEV","ChatComponent","_s","messages","setMessages","userMessage","setUserMessage","sidebarOpen","setSidebarOpen","chatMessagesRef","apiUrl","process","env","REACT_APP_API_URL","sendMessage","trim","newMessages","sender","message","response","post","prevMessages","data","error","console","current","scrollTop","scrollHeight","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/bsjatoi/Desktop/Jatoi_Startup/AITools4all/client/src/components/ChatComponent.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport ChatMessages from \"./ChatMessages\";\nimport ChatInput from \"./ChatInput\";\nimport ChatSidebar from \"./ChatSidebar\";\nimport { Link } from \"react-router-dom\";\nimport \"../styles/Chatgpt.css\";\n\nfunction ChatComponent() {\n  const [messages, setMessages] = useState([]);\n  const [userMessage, setUserMessage] = useState(\"\");\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const chatMessagesRef = useRef(null);\n\n  const apiUrl = process.env.REACT_APP_API_URL;\n\n  const sendMessage = async () => {\n    if (userMessage.trim() === \"\") return;\n\n    const newMessages = [...messages, { sender: \"You\", message: userMessage }];\n    setMessages(newMessages);\n    setUserMessage(\"\");\n\n    try {\n      const response = await axios.post(`${apiUrl}/chat`, {\n        message: userMessage,\n      });\n      setMessages((prevMessages) => [\n        ...prevMessages,\n        { sender: \"Bot\", message: response.data.message },\n      ]);\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n      setMessages((prevMessages) => [\n        ...prevMessages,\n        {\n          sender: \"Bot\",\n          message: \"An error occurred. Please try again later.\",\n        },\n      ]);\n    }\n  };\n\n  useEffect(() => {\n    if (chatMessagesRef.current) {\n      chatMessagesRef.current.scrollTop = chatMessagesRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  return (\n    <div className=\"chat-app\">\n      <Link to=\"/MainPage\">Homepage</Link>\n\n      <ChatSidebar\n        sidebarOpen={sidebarOpen}\n        setSidebarOpen={setSidebarOpen}\n        messages={messages}\n      />\n      <div className=\"chat-container\">\n        <ChatMessages messages={messages} chatMessagesRef={chatMessagesRef} />\n        <ChatInput\n          userMessage={userMessage}\n          setUserMessage={setUserMessage}\n          sendMessage={sendMessage}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default ChatComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}